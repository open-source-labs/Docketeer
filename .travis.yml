language: node_js

node_js:
  - 16

env:
  global: PATH=/opt/python/3.7.1/bin:$PATH

notifications:
  email: false

install:
  - yarn

# cache some files for faster builds
cache:
  yarn: true
  directories:
    - node_modules

# install dependenices
before-script:
  - yarn

# on PRs and merges to master and prod run tests and build the app
script:
  - yarn test

# only run this script on pull requests and merges into
# the 'master' branches
branches:
  only:
    - master
    - production
